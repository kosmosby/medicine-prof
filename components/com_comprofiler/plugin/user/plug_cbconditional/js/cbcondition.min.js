!function($){function revertCondition(e,t){var n=this,i=t.show,a=t.hide;$.isArray(i)||(i="string"==typeof i?[i]:[]),$.isArray(a)||(a="string"==typeof a?[a]:[]),$.each(i,function(i,a){showElement.call(n,e,t,$(a))}),$.each(a,function(i,a){showElement.call(n,e,t,$(a))})}function conditionElement(e,t){var n=this,i=e.settings.conditions;$.isArray(i)||(i=[]),$.each(i,function(i,a){var s=a.input,o=a.operator,c=a.value,l=a.show,r=a.hide;$.isArray(l)||(l="string"==typeof l?[l]:[]),$.isArray(r)||(r="string"==typeof r?[r]:[]),($(n).is("input")||$(n).is("select")||$(n).is("textarea"))&&($(n).is('input[type="checkbox"]')||$(n).is('input[type="radio"]')?(s=[],e.target.each(function(){$(this).is(":checked")&&s.push($(this).val())})):$(n).is("select[multiple]")?(s=$(n).val(),$.isArray(s)||(s=s.split(","))):s=$(n).val()),$.isArray(s)&&(s=s.join("|*|")),"undefined"==typeof t&&matchCondition.call(n,e,s,o,c)||t?($.each(l,function(t,i){showElement.call(n,e,a,$(i))}),$.each(r,function(t,i){hideElement.call(n,e,a,$(i))}),e.element.triggerHandler("cbcondition.match.true",[e,s])):($.each(l,function(t,i){hideElement.call(n,e,a,$(i))}),$.each(r,function(t,i){showElement.call(n,e,a,$(i))}),e.element.triggerHandler("cbcondition.match.false",[e,s]))})}function showElement(e,t,n){if(n.length&&n.hasClass("cbDisplayDisabled")){if(n.hasClass("cbTabPane")){var i=n.closest(".cbTabs");i.data("cbtabs")?i.cbtabs("show",n.attr("id")):n.show()}else n.is('input[type="checkbox"]')||n.is('input[type="radio"]')?n.closest(".cbSingleCntrl").length?n.closest(".cbSingleCntrl").show():n.closest(".cbSnglCtrlLbl").length?n.closest(".cbSnglCtrlLbl").show():n.parent("label").length?n.parent("label").show():n.show():n.show();n.is("input")||n.is("select")||n.is("textarea")?n.removeClass("cbValidationDisabled"):n.is("option")?n.prop("disabled",!1):n.find("input,select,textarea").removeClass("cbValidationDisabled"),n.removeClass("cbDisplayDisabled"),e.element.triggerHandler("cbcondition.show",[e,n])}}function hideElement(e,t,n){if(n.length&&!n.hasClass("cbDisplayDisabled")){if(n.hasClass("cbTabPane")){var i=n.closest(".cbTabs");i.data("cbtabs")?i.cbtabs("hide",n.attr("id")):n.hide()}else n.is('input[type="checkbox"]')||n.is('input[type="radio"]')?n.closest(".cbSingleCntrl").length?n.closest(".cbSingleCntrl").hide():n.closest(".cbSnglCtrlLbl").length?n.closest(".cbSnglCtrlLbl").hide():n.parent("label").length?n.parent("label").hide():n.hide():n.hide();if(n.is("input")||n.is("select")||n.is("textarea"))t.reset&&(n.is('input[type="checkbox"]')||n.is('input[type="radio"]')?n.prop("checked",!1):n.val("")),n.addClass("cbValidationDisabled");else if(n.is("option"))t.reset&&n.prop("selected",!1),n.prop("disabled",!0);else{var a=n.find("input,select,textarea");t.reset&&a.each(function(){$(this).is('input[type="checkbox"]')||$(this).is('input[type="radio"]')?$(this).prop("checked",!1):$(this).val("")}),a.addClass("cbValidationDisabled")}n.addClass("cbDisplayDisabled"),e.element.triggerHandler("cbcondition.hide",[e,n])}}function matchCondition(cbcondition,input,operator,value){input=$.trim(input),value=$.trim(value);var match=!1;switch(operator){case"!=":case"<>":case 1:match=input!=value;break;case">":case 2:match=input>value;break;case"<":case 3:match=value>input;break;case">=":case 4:match=input>=value;break;case"<=":case 5:match=value>=input;break;case"empty":case 6:match=!input.length;break;case"!empty":case 7:match=input.length;break;case"contain":case 8:match=-1!=input.indexOf(value);break;case"!contain":case 9:match=-1==input.indexOf(value);break;case"regexp":case 10:match=input.match(eval(value));break;case"!regexp":case 11:match=!input.match(eval(value));break;case"=":case 0:default:match=input==value}return cbcondition.element.triggerHandler("cbcondition.match",[cbcondition,input,operator,value,match]),match}var instances=[],methods={init:function(e){return this.each(function(){var t=this;if(!$(t).length)return $.cbcondition(e),void 0;var n=$(t).data("cbcondition");return n?(e.conditions&&n.element.cbcondition("add",e.conditions),void 0):(n={},n.options=e,n.defaults=$.fn.cbcondition.defaults,n.settings=$.extend(!0,{},n.defaults,n.options),n.element=$(t),n.settings.useData&&$.each(n.defaults,function(e){if("init"!=e&&"useData"!=e){var t=n.element.data("cbcondition"+e.charAt(0).toUpperCase()+e.slice(1));"undefined"!=typeof t?n.settings[e]=t:(t=n.element.data("cbcondition"+e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()),"undefined"!=typeof t&&(n.settings[e]=t))}}),n.element.triggerHandler("cbcondition.init.before",[n]),n.settings.init&&($.isArray(n.settings.conditions)||(n.settings.conditions=[]),n.target=null,n.element.is("input")||n.element.is("select")||n.element.is("textarea")?n.target=n.element:(n.target=n.element.find("input,select,textarea").first(),(n.target.is(":checkbox")||n.target.is(":radio"))&&(n.target=n.element.find('input[name="'+n.target.attr("name")+'"]'))),n.changeHandler=function(){conditionElement.call(this,n)},n.target.on("keyup change",n.changeHandler).change(),n.element.on("modified.cbcondition",function(e,t,i){t!=i&&(n.element.cbcondition("destroy"),n.element.cbcondition(n.options))}),n.element.on("cloned.cbcondition",function(){$(this).off("cloned.cbcondition"),$(this).off("modified.cbcondition"),$(this).removeData("cbcondition");var e=null;$(this).is("input")||$(this).is("select")||$(this).is("textarea")?e=$(this):(e=$(this).find("input,select,textarea").first(),(e.is(":checkbox")||e.is(":radio"))&&(e=$(this).find('input[name="'+e.attr("name")+'"]'))),e.off("keyup change",n.changeHandler),$(this).cbcondition(n.options)}),n.element.triggerHandler("cbcondition.init.after",[n]),n.element.data("cbcondition",n),instances.push(n)),void 0)})},match:function(e){var t=$(this).data("cbcondition");return t?(t.target.each(function(){conditionElement.call(this,t,e)}),!0):!1},add:function(e){if(!e||!$.isArray(e))return!1;var t=$(this).data("cbcondition");return t?(t.options.conditions=$.merge(t.options.conditions,e),t.settings.conditions=$.merge(t.settings.conditions,e),t.element.data("cbcondition",t),t.target.change(),t.element.triggerHandler("cbcondition.add",[t,e]),!0):!1},remove:function(e){var t=$(this).data("cbcondition");if(!t)return!1;var n=null;return $.isArray(t.options.conditions)&&e in t.options.conditions&&(n=t.options.conditions[e],t.options.conditions.splice(e,1)),$.isArray(t.settings.conditions)&&e in t.settings.conditions&&(n=t.settings.conditions[e],t.settings.conditions.splice(e,1)),n?(revertCondition.call(this,t,n),t.element.data("cbcondition",t),t.element.triggerHandler("cbcondition.remove",[t,n]),!0):!1},destroy:function(){var e=$(this).data("cbcondition");if(!e)return!1;e.element.off("cloned.cbcondition"),e.element.off("modified.cbcondition"),e.target.off("keyup change",e.changeHandler),$.each(instances,function(t,n){return n.element==e.element?(instances.splice(t,1),!1):!0});var t=e.settings.conditions;if($.isArray(t)){var n=this;$.each(t,function(t,i){revertCondition.call(n,e,i)})}return e.element.removeData("cbcondition"),e.element.triggerHandler("cbcondition.destroyed",[e]),!0},instances:function(){return instances}};$.fn.cbcondition=function(e){return methods[e]?methods[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?this:methods.init.apply(this,arguments)},$.cbcondition=function(e){var t={};return t.options=e,t.defaults=$.fn.cbcondition.defaults,t.settings=$.extend(!0,{},t.defaults,t.options),t.element="undefined"==typeof e.element?$(window):e.element,t.target="undefined"==typeof e.target?$(window):e.target,$.isArray(t.settings.conditions)||(t.settings.conditions=[]),conditionElement.call(window,t),this},$.fn.cbcondition.defaults={init:!0,useData:!0,conditions:[{input:null,operator:null,value:null,show:[],hide:[],reset:!0}]}}(jQuery);