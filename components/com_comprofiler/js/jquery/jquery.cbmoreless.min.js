!function(e){function s(e){if(!e.element.hasClass("cbMoreLessOpened")){e.element.removeClass("cbMoreLessClosed"),e.element.children(".cbMoreLessOpen,.cbMoreLessClose").addClass("hidden");var s=e.element.children(".cbMoreLessContent");s.css("max-height",e.settings.height),s.css("height",e.settings.height),s.height()<s.get(0).scrollHeight&&(e.element.addClass("cbMoreLessClosed"),e.element.children(".cbMoreLessOpen").removeClass("hidden")),s.css("height","")}}function n(e){e.settings.height&&e.element.children(".cbMoreLessContent").css("max-height","none"),e.element.removeClass("cbMoreLessClosed").addClass("cbMoreLessOpened"),e.element.children(".cbMoreLessOpen").addClass("hidden"),e.element.children(".cbMoreLessClose").removeClass("hidden")}function t(e){e.settings.height&&e.element.children(".cbMoreLessContent").css("max-height",e.settings.height),e.element.removeClass("cbMoreLessOpened").addClass("cbMoreLessClosed"),e.element.children(".cbMoreLessOpen").removeClass("hidden"),e.element.children(".cbMoreLessClose").addClass("hidden")}var l=[],o={init:function(o){return this.each(function(){var r=this,i=e(r).data("cbmoreless");i||(i={},i.options="undefined"!=typeof o?o:{},i.defaults=e.fn.cbmoreless.defaults,i.settings=e.extend(!0,{},i.defaults,i.options),i.element=e(r),i.bg=null,i.settings.useData&&e.each(i.defaults,function(e){if("init"!=e&&"useData"!=e){var s=i.element.data("cbmoreless"+e.charAt(0).toUpperCase()+e.slice(1));"undefined"!=typeof s?i.settings[e]=s:(s=i.element.data("cbmoreless"+e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()),"undefined"!=typeof s&&(i.settings[e]=s))}}),i.element.triggerHandler("cbmoreless.init.before",[i]),i.settings.init&&(i.settings.height||(i.settings.height=100),i.element.parentsUntil("body").each(function(){var s=e(this).css("background-color");return s&&""!=s&&"transparent"!=s&&"rgba(0, 0, 0, 0)"!=s?(i.bg=s,!1):void 0}),i.bg&&(i.element.children(".cbMoreLessOpen.fade-edge,.cbMoreLessClose.fade-edge").css("background-image","linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, "+i.bg+" 100%)"),i.element.children(".cbMoreLessOpen,.cbMoreLessClose").find(".cbMoreLessButton").css("background-color",i.bg)),i.resizeHandler=function(){s.call(r,i)},e(window).on("resize",i.resizeHandler),i.openHandler=function(e){e.preventDefault(),n.call(r,i)},i.closeHandler=function(e){e.preventDefault(),t.call(r,i)},i.element.children(".cbMoreLessOpen").on("click",i.openHandler),i.element.children(".cbMoreLessClose").on("click",i.closeHandler),s.call(r,i),i.element.on("rebind.cbmoreless",function(){i.element.cbmoreless("rebind")}),i.element.on("modified.cbmoreless",function(e,s,n){s!=n&&i.element.cbmoreless("rebind")}),i.element.on("cloned.cbmoreless",function(){e(this).off("rebind.cbmoreless"),e(this).off("modified.cbmoreless"),e(this).off("cloned.cbmoreless"),e(this).removeData("cbmoreless"),e(this).children(".cbMoreLessOpen").off("click",i.openHandler).addClass("hidden"),e(this).children(".cbMoreLessClose").off("click",i.closeHandler).addClass("hidden"),e(this).removeClass("cbMoreLessOpened cbMoreLessClosed"),e(this).cbmoreless(i.options)}),i.element.triggerHandler("cbmoreless.init.after",[i]),i.element.data("cbmoreless",i),l.push(i)))})},update:function(){var n=e(this).data("cbmoreless");return n?(s.call(this,n),this):this},open:function(){var s=e(this).data("cbmoreless");return s?(n.call(this,s),this):this},close:function(){var s=e(this).data("cbmoreless");return s?(t.call(this,s),this):this},rebind:function(){var s=e(this).data("cbmoreless");return s?(s.element.cbmoreless("destroy"),s.element.cbmoreless(s.options),this):this},destroy:function(){var s=e(this).data("cbmoreless");return s?(s.element.off("rebind.cbmoreless"),s.element.off("modified.cbmoreless"),s.element.off("cloned.cbmoreless"),e(window).off("resize",s.resizeHandler),s.element.children(".cbMoreLessOpen").off("click",s.openHandler).addClass("hidden"),s.element.children(".cbMoreLessClose").off("click",s.closeHandler).addClass("hidden"),s.element.removeClass("cbMoreLessOpened cbMoreLessClosed"),s.element.removeData("cbmoreless"),s.element.triggerHandler("cbmoreless.destroyed",[s]),this):this},instances:function(){return l}};e.fn.cbmoreless=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?this:o.init.apply(this,arguments)},e.fn.cbmoreless.defaults={init:!0,useData:!0,height:100}}(jQuery);